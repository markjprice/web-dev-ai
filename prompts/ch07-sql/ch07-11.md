> **Prompt**: Please show me some examples where moving a condition from `WHERE` to `ON` changes the meaning of a `LEFT JOIN`.

In a `LEFT JOIN`, the `ON` clause and the `WHERE` clause serve two fundamentally different purposes. Misunderstanding this distinction is one of the most common ways to accidentally turn a `LEFT JOIN` into an `INNER JOIN`, or to return "ghost" data you didn't intend to see.

The core rule is:

* **`ON`** determines which rows are **linked**.
* **`WHERE`** determines which rows are **shown** in the final result.

---

## The Scenario: Users and Orders

Imagine we have two tables: `Users` and `Orders`. We want a list of all users and their orders, but we are specifically interested in orders that have been **shipped**.

### 1. Condition in the `ON` Clause

When you put a condition in the `ON` clause, you are filtering the **right-side** table *before* the join happens.

```sql
SELECT u.name, o.order_id, o.status
FROM Users u
LEFT JOIN Orders o 
  ON u.id = o.user_id 
  AND o.status = 'shipped';

```

* **Result:** You get **every single user** in the database.
* **Behavior:** If a user has an order that isn't 'shipped', the join fails for that specific order. Because it's a `LEFT JOIN`, the user is still kept in the list, but the order columns show up as `NULL`.
* **Meaning:** "Show me all users, and if they have any shipped orders, show those too."

---

### 2. Condition in the `WHERE` Clause

When you move that same condition to the `WHERE` clause, you are filtering the **final result set** *after* the join has been completed.

```sql
SELECT u.name, o.order_id, o.status
FROM Users u
LEFT JOIN Orders o 
  ON u.id = o.user_id
WHERE o.status = 'shipped';

```

* **Result:** You only get users who have at least one 'shipped' order.
* **Behavior:** The `LEFT JOIN` initially includes users with no orders (represented as `NULL`). However, the `WHERE` clause then checks: `Is NULL = 'shipped'?`. As we discussed with `NULL` logic, this is UNKNOWN (effectively False), so those rows are discarded.
* **Meaning:** "Show me only the users who have placed a shipped order."
* **Critical Note:** This has effectively converted your `LEFT JOIN` into an **`INNER JOIN`**.

---

## Comparison of Results

Imagine **Alice** has a shipped order, **Bob** has a pending order, and **Charlie** has no orders.

| Strategy | Alice | Bob | Charlie |
| --- | --- | --- | --- |
| **Condition in `ON**` | Shown with Order | **Shown with NULLs** | **Shown with NULLs** |
| **Condition in `WHERE**` | Shown with Order | *Discarded* | *Discarded* |

---

## When to use which?

### Use `ON` for Right-Side Filtering

Use the `ON` clause when you want to keep the "Left" table intact but limit what data is pulled in from the "Right" table. This is common for:

* Finding users who *haven't* done a specific action (e.g., `ON ... AND action = 'login'` where the result is `NULL`).
* Optional attributes that meet a specific criteria.

### Use `WHERE` for Global Filtering

Use the `WHERE` clause when you want to restrict the entire scope of the report.

* **Note:** If you want to filter by the "Left" table (e.g., `WHERE u.active = true`), it doesn't matter if it's in `ON` or `WHERE` logically, but standard practice is to put "Left" filters in the `WHERE` clause for readability.

---

## Summary of Logic Flow

1. **`ON` filters the relationship.** It defines the "shape" of the bridge between tables.
2. **`WHERE` filters the destination.** It acts as a gatekeeper for the finished rows.

